ğŸ§ª COMPREHENSIVE DIET CLASSIFIER TESTING SUITE - LIVE CODING READY
==================================================================
Current time: ×™×•×Â ×‘ 30 ×™×•×  2025 14:18:50

[0;34mğŸ”§ SYSTEM HEALTH CHECK (Web Container)[0m
----------------------------------------
=== WEB CONTAINER SYSTEM STATUS ===
Python version: 3.11.13 (main, Jun 10 2025, 23:54:42) [GCC 12.2.0]
Working directory: ['', '/usr/local/lib/python311.zip', '/usr/local/lib/python3.11', '/usr/local/lib/python3.11/lib-dynload', '/usr/local/lib/python3.11/site-packages', '/app/web']
âœ… All imports successful
âœ… NON_KETO items: 358
âœ… NON_VEGAN items: 160
âœ… Ground truth file found at: /app/ground_truth_sample.csv
[0;32mâœ… Test completed successfully in 1.36s[0m

[1;33mğŸ“ COPYING GROUND TRUTH TO WEB CONTAINER[0m
----------------------------------------
[0;32mâœ… Ground truth copied to web container[0m

[0;34mğŸ§ª ENHANCED INDIVIDUAL INGREDIENT TESTS[0m
----------------------------------------
=== COMPREHENSIVE KETO TESTS ===
âœ… heavy cream          ->     1 (expected True)
âœ… chicken breast       ->     1 (expected True)
âœ… eggs                 ->     1 (expected True)
âœ… almond flour         ->     1 (expected True)
âœ… broccoli             ->     1 (expected True)
âœ… avocado              ->     1 (expected True)
âœ… olive oil            ->     1 (expected True)
âœ… butter               ->     1 (expected True)
Loaded USDA data: 303 food items
âœ… cheddar cheese       ->     1 (expected True)
âœ… salmon               ->     1 (expected True)
âœ… spinach              ->     1 (expected True)
âœ… cauliflower          ->     1 (expected True)
âœ… white rice           ->     0 (expected False)
âœ… strawberries         ->     0 (expected False)
âœ… sugar                ->     0 (expected False)
âœ… bread                ->     0 (expected False)
âœ… pasta                ->     0 (expected False)
âœ… banana               ->     0 (expected False)
âœ… potato               ->     0 (expected False)
âœ… corn syrup           ->     0 (expected False)
âœ… cooking spray        ->     0 (expected False)
âœ… oats                 ->     0 (expected False)
âœ… honey                ->     0 (expected False)
âœ… apple                ->     0 (expected False)

ğŸ¯ Keto Accuracy: 24/24 (100.0%)

=== COMPREHENSIVE VEGAN TESTS ===
âœ… broccoli             ->     1 (expected True)
âœ… almond milk          ->     1 (expected True)
âœ… kidney beans         ->     1 (expected True)
âœ… tofu                 ->     1 (expected True)
âœ… quinoa               ->     1 (expected True)
âœ… spinach              ->     1 (expected True)
âœ… avocado              ->     1 (expected True)
âœ… olive oil            ->     1 (expected True)
âœ… mushrooms            ->     1 (expected True)
âœ… tomatoes             ->     1 (expected True)
âœ… eggplant             ->     1 (expected True)
âœ… peanut butter        ->     1 (expected True)
âœ… eggs                 ->     0 (expected False)
âœ… chicken              ->     0 (expected False)
âœ… milk                 ->     0 (expected False)
âœ… cheese               ->     0 (expected False)
âœ… butter               ->     0 (expected False)
âœ… honey                ->     0 (expected False)
âœ… beef                 ->     0 (expected False)
âœ… fish                 ->     0 (expected False)
âœ… kahlua               ->     0 (expected False)
âœ… coffee liqueur       ->     0 (expected False)
âœ… bacon                ->     0 (expected False)
âœ… yogurt               ->     0 (expected False)

ğŸ¯ Vegan Accuracy: 24/24 (100.0%)
[0;32mâœ… Test completed successfully in 2.21s[0m

[0;34mğŸ” EDGE CASE TESTING[0m
----------------------------------------
=== EDGE CASE ANALYSIS ===
Original: "6 eggs"
  Normalized: "egg"
  Keto: True, Vegan: False

Original: "2 cups heavy cream"
  Normalized: "heavy cream"
  Keto: True, Vegan: False

Original: "1/4 teaspoon salt"
  Normalized: "salt"
  Keto: True, Vegan: True

Original: "3 tablespoons olive oil"
  Normalized: "tablespoon olive oil"
  Keto: True, Vegan: True

Original: "salt and pepper to taste"
  Normalized: "salt and pepper taste"
  Keto: True, Vegan: True

Original: "cooking spray (optional)"
  Normalized: "cooking spray"
  Keto: False, Vegan: True

Original: "1 (14 oz) can kidney beans"
  Normalized: "can kidney bean"
  Keto: False, Vegan: True

Original: "fresh ground black pepper"
  Normalized: "fresh ground black pepper"
  Keto: True, Vegan: True

=== PARSING EDGE CASES ===
Input: ['ingredient1' 'ingredient2' 'ingredient3']...
  Parsed: ['ingredient1', 'ingredient2', 'ingredient3']
  Count: 3

Input: ['single ingredient']...
  Parsed: ['single ingredient']
  Count: 1

Input: ingredient without brackets...
  Parsed: ['gredient without bracke']
  Count: 1

Input: ['ingredient with, comma' 'another ingredient']...
  Parsed: ['ingredient with, comma', 'another ingredient']
  Count: 2

Input: ['ingredient
with
newlines' 'normal ingredient']...
  Parsed: ['ingredient\nwith\nnewlines', 'normal ingredient']
  Count: 2

[0;32mâœ… Test completed successfully in 2.18s[0m

[0;34mğŸ“‹ ADVANCED RECIPE PARSING TEST (Web Container)[0m
----------------------------------------
=== RECIPE PARSING VALIDATION ===
Recipe 1:
  Raw length: 256
  Parsed count: 9
  Sample: 3 cups all-purpose flour...

Recipe 2:
  Raw length: 177
  Parsed count: 6
  Sample: 3 tablespoons brown sugar...

Recipe 3:
  Raw length: 364
  Parsed count: 12
  Sample: 1/2 cup red wine vinegar...

Recipe 4:
  Raw length: 112
  Parsed count: 5
  Sample: 1 cup ice cubes, or as needed...

Recipe 5:
  Raw length: 252
  Parsed count: 9
  Sample: 3 cups all-purpose flour...

Recipe 6:
  Raw length: 239
  Parsed count: 8
  Sample: 2 cups fresh or frozen blueber...

Recipe 7:
  Raw length: 63
  Parsed count: 2
  Sample: 2 pounds strawberries, hulled ...

Recipe 8:
  Raw length: 213
  Parsed count: 7
  Sample: 1 tablespoon soy sauce...

Recipe 9:
  Raw length: 172
  Parsed count: 5
  Sample: 3 pounds apples - peeled, core...

Recipe 10:
  Raw length: 171
  Parsed count: 5
  Sample: 2 cups all-purpose flour...

ğŸ“Š Parsing Summary: 10 successful, 0 errors
[0;32mâœ… Test completed successfully in 1.43s[0m

[0;34mâš¡ PERFORMANCE STRESS TEST (Web Container)[0m
----------------------------------------
=== PERFORMANCE BENCHMARKS ===
1. Individual Ingredient Speed Test:
   100 ingredients processed in 0.655s
   Rate: 152.6 ingredients/second

2. Recipe Processing Speed Test:
Loaded USDA data: 303 food items
   50 recipes processed in 0.104s
   Rate: 480.0 recipes/second

3. Memory Management: âœ… Garbage collection completed
[0;32mâœ… Test completed successfully in 2.38s[0m

[0;34mğŸ“Š COMPREHENSIVE PERFORMANCE EVALUATION[0m
----------------------------------------
Loading and processing ground truth data...
Loaded USDA data: 303 food items

============================================================
ğŸ¥‘ KETO CLASSIFICATION RESULTS
============================================================
ğŸ“Š Summary Metrics:
   Accuracy:  0.9900 (99.00%)
   F1-Score:  0.9873
   Precision: 1.0000
   Recall:    0.9750

ğŸ“‹ Confusion Matrix:
   True Negatives:  60
   False Positives: 0
   False Negatives: 1
   True Positives:  39

ğŸ“ˆ Detailed Classification Report:
              precision    recall  f1-score   support

       False       0.98      1.00      0.99        60
        True       1.00      0.97      0.99        40

    accuracy                           0.99       100
   macro avg       0.99      0.99      0.99       100
weighted avg       0.99      0.99      0.99       100


============================================================
ğŸŒ± VEGAN CLASSIFICATION RESULTS
============================================================
ğŸ“Š Summary Metrics:
   Accuracy:  1.0000 (100.00%)
   F1-Score:  1.0000
   Precision: 1.0000
   Recall:    1.0000

ğŸ“‹ Confusion Matrix:
   True Negatives:  60
   False Positives: 0
   False Negatives: 0
   True Positives:  40

ğŸ“ˆ Detailed Classification Report:
              precision    recall  f1-score   support

       False       1.00      1.00      1.00        60
        True       1.00      1.00      1.00        40

    accuracy                           1.00       100
   macro avg       1.00      1.00      1.00       100
weighted avg       1.00      1.00      1.00       100


âš¡ PERFORMANCE METRICS
========================================
Processing time: 0.776 seconds
Recipes per second: 128.9
Total recipes processed: 100
Average time per recipe: 7.76ms
[0;32mâœ… Test completed successfully in 2.38s[0m

[0;34mğŸ” ADVANCED ERROR ANALYSIS (Web Container)[0m
----------------------------------------
Loaded USDA data: 303 food items

==================================================
KETO ERROR ANALYSIS
==================================================
False Negatives (missed keto): 1
False Positives (wrong keto): 0

âŒ MISSED KETO RECIPES:
   Recipe 53: ['1/4 cup butter or margarine, softened', '2 tablespoons ground mustard']...
      Problem ingredients: ['2 tablespoons ground mustard']...

==================================================
VEGAN ERROR ANALYSIS
==================================================
False Negatives (missed vegan): 0
False Positives (wrong vegan): 0

ğŸ“Š ERROR SUMMARY:
   Total errors: 1
   Keto errors: 1
   Vegan errors: 0
[0;32mâœ… Test completed successfully in 2.29s[0m

[0;34mğŸ” PATTERN MATCHING DEEP ANALYSIS[0m
----------------------------------------
=== PATTERN MATCHING ANALYSIS ===

"6 eggs" -> "egg"
   Keto whitelist:     1 | Keto blacklist:     0
   Vegan whitelist:     0 | Vegan blacklist:     1

"heavy cream" -> "heavy cream"
   Keto whitelist:     1 | Keto blacklist:     0
   Vegan whitelist:     0 | Vegan blacklist:     1

"peanut butter" -> "peanut butter"
   Keto whitelist:     1 | Keto blacklist:     0
   Vegan whitelist:     1 | Vegan blacklist:     1

"eggplant" -> "eggplant"
   Keto whitelist:     0 | Keto blacklist:     0
   Vegan whitelist:     1 | Vegan blacklist:     0

"kidney beans" -> "kidney bean"
   Keto whitelist:     0 | Keto blacklist:     1
   Vegan whitelist:     1 | Vegan blacklist:     1

"cooking spray" -> "cooking spray"
   Keto whitelist:     0 | Keto blacklist:     1
   Vegan whitelist:     0 | Vegan blacklist:     0

"kahlua" -> "kahlua"
   Keto whitelist:     0 | Keto blacklist:     1
   Vegan whitelist:     0 | Vegan blacklist:     1

"coffee liqueur" -> "coffee liqueur"
   Keto whitelist:     0 | Keto blacklist:     0
   Vegan whitelist:     0 | Vegan blacklist:     1

"almond flour" -> "almond flour"
   Keto whitelist:     1 | Keto blacklist:     0
   Vegan whitelist:     0 | Vegan blacklist:     0

"coconut oil" -> "coconut oil"
   Keto whitelist:     0 | Keto blacklist:     0
   Vegan whitelist:     0 | Vegan blacklist:     0

"strawberries" -> "strawberry"
   Keto whitelist:     0 | Keto blacklist:     1
   Vegan whitelist:     0 | Vegan blacklist:     0

"white rice" -> "white rice"
   Keto whitelist:     0 | Keto blacklist:     1
   Vegan whitelist:     0 | Vegan blacklist:     0

=== BLACKLIST STATS ===
NON_KETO items: 358
NON_VEGAN items: 160

Sample NON_KETO: ['chip', 'banana', 'raisin', 'preserves', 'biscuit', 'gummy candy', 'whiskey sour', 'lotus root', 'sweet soy glaze', 'cookie']
Sample NON_VEGAN: ['heart', 'mettwurst', 'catfish', 'cheddar', 'kahlua', 'meringue', 'whey', 'bone', 'halloumi', 'dashi']
[0;32mâœ… Test completed successfully in 2.17s[0m

[0;34mğŸ›ï¸ USDA DATABASE COMPREHENSIVE TEST[0m
----------------------------------------
Loaded USDA data: 303 food items
USDA database loaded: 303 items

=== USDA LOOKUP TESTS ===
chicken         ->   0.00g carbs/100g
rice            ->  79.80g carbs/100g
broccoli        ->   6.27g carbs/100g
heavy cream     ->   3.80g carbs/100g
strawberries    -> Not found
beef            ->   2.89g carbs/100g
milk            ->   6.86g carbs/100g
cheese          ->   6.86g carbs/100g
butter          ->  22.30g carbs/100g
eggs            ->   2.36g carbs/100g
bread           ->  49.20g carbs/100g
pasta           -> Not found

Lookup success rate: 10/12 (83.3%)

=== USDA DATABASE ANALYSIS ===
Average carbs/100g: 20.08
Keto-friendly items (â‰¤10g): 163/303 (53.8%)
[0;32mâœ… Test completed successfully in 1.56s[0m

[0;34mğŸ§ª REGRESSION TESTING[0m
----------------------------------------
=== REGRESSION TESTS ===
Testing previously fixed issues...
âœ… Heavy cream should be keto
âœ… Eggs should be non-vegan
âœ… Strawberries should be non-keto
âœ… Kidney beans should be vegan
âœ… Cooking spray should be non-keto
âœ… Kahlua should be non-vegan
âœ… Salt should be keto
âœ… Garlic should be keto
âœ… Chicken should be keto but non-vegan
âœ… Chicken should be non-vegan

ğŸ“Š Regression Test Results: 10/10 passed (100.0%)
[0;32mâœ… Test completed successfully in 2.13s[0m

[0;35mğŸ“Š NOTEBOOK CONTAINER EVALUATION (from notebook)[0m
----------------------------------------
Loading ground truth data from notebook container...
Downloading USDA nutritional database (one-time download)...
USDA database downloaded successfully!
Loaded USDA data: 303 food items

=== KETO CLASSIFICATION ===
              precision    recall  f1-score   support

       False       0.98      1.00      0.99        60
        True       1.00      0.97      0.99        40

    accuracy                           0.99       100
   macro avg       0.99      0.99      0.99       100
weighted avg       0.99      0.99      0.99       100


=== VEGAN CLASSIFICATION ===
              precision    recall  f1-score   support

       False       1.00      1.00      1.00        60
        True       1.00      1.00      1.00        40

    accuracy                           1.00       100
   macro avg       1.00      1.00      1.00       100
weighted avg       1.00      1.00      1.00       100


â±ï¸  Processing time: 4.319 seconds
ğŸ“Š Total recipes processed: 100
[0;32mâœ… Notebook test completed successfully[0m

[0;34mğŸ”¤ NLTK LEMMATIZATION TEST[0m
----------------------------------------
=== NLTK AVAILABILITY CHECK ===
âœ… NLTK is installed
âŒ WordNet data not found - downloading may be needed
âœ… WordNetLemmatizer initialized

=== LEMMATIZATION TESTS ===
Testing normalization with potential lemmatization:
strawberries              -> strawberry               
   âœ… Contains expected stem
potatoes                  -> potato                   
   âœ… Contains expected stem
tomatoes                  -> tomato                   
   âœ… Contains expected stem
cherries                  -> cherry                   
   âœ… Contains expected stem
berries                   -> berry                    
   âœ… Contains expected stem
leaves                    -> leaf                     
   âœ… Contains expected stem
loaves                    -> loaf                     
   âœ… Contains expected stem
geese                     -> goose                    
   âœ… Contains expected stem
oxen                      -> ox                       
   âœ… Contains expected stem
children                  -> child                    
   âœ… Contains expected stem
6 eggs                    -> egg                      
   âœ… Contains expected stem
2 cups strawberries       -> strawberry               
   âœ… Contains expected stem

=== LEMMATIZATION IMPACT ON CLASSIFICATION ===
âœ… strawberries    is keto : False (expected False)
âœ… cherries        is keto : False (expected False)
âœ… potatoes        is keto : False (expected False)
âœ… tomatoes        is vegan: True (expected True)
âŒ oxen            is vegan: True (expected False)
[0;32mâœ… Test completed successfully in 2.09s[0m


ğŸ¯ COMPREHENSIVE TESTING COMPLETE!
==================================
[1;33mAll test modules completed using PRODUCTION web container implementation![0m

[0;36mğŸ“‹ Test Coverage Summary:[0m
   âœ… System Health Check (Web Container)
   âœ… Individual Ingredient Testing (24 keto + 24 vegan tests)
   âœ… Edge Case Analysis
   âœ… Recipe Parsing Validation (Web Container)
   âœ… Performance Stress Testing
   âœ… Comprehensive Metrics (Web Container - Production Implementation)
   âœ… Advanced Error Analysis (Web Container)
   âœ… Pattern Matching Deep Dive
   âœ… USDA Database Testing
   âœ… Regression Testing
   âœ… Notebook Container Evaluation

[0;36mğŸ³ Tests run against PRODUCTION Flask implementation in web container[0m

[1;33mğŸ“Š BONUS: Container Implementation Comparison[0m
============================================
Testing Flask web app implementation...
Web Container - heavy cream: Keto=True, Vegan=False

[0;32mâœ… Production web container testing complete![0m
